{"version":3,"sources":["uni-app:///main.js","webpack:////Users/fangzq/Documents/fang/fzq-mall/pages/views/order/confirmOrder.vue?1375","webpack:////Users/fangzq/Documents/fang/fzq-mall/pages/views/order/confirmOrder.vue?70a0","webpack:////Users/fangzq/Documents/fang/fzq-mall/pages/views/order/confirmOrder.vue?c58a","webpack:////Users/fangzq/Documents/fang/fzq-mall/pages/views/order/confirmOrder.vue?442b","uni-app:///pages/views/order/confirmOrder.vue","webpack:////Users/fangzq/Documents/fang/fzq-mall/pages/views/order/confirmOrder.vue?6125","webpack:////Users/fangzq/Documents/fang/fzq-mall/pages/views/order/confirmOrder.vue?892b"],"names":["createPage","Page"],"mappings":"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","file":"pages/views/order/confirmOrder.js","sourcesContent":["import 'uni-pages';\nimport Vue from 'vue'\nimport Page from './pages/views/order/confirmOrder.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./confirmOrder.vue?vue&type=template&id=85f28b6e&scoped=true&\"\nvar renderjs\nimport script from \"./confirmOrder.vue?vue&type=script&lang=js&\"\nexport * from \"./confirmOrder.vue?vue&type=script&lang=js&\"\nimport style0 from \"./confirmOrder.vue?vue&type=style&index=0&id=85f28b6e&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"85f28b6e\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/views/order/confirmOrder.vue\"\nexport default component.exports","export * from \"-!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./confirmOrder.vue?vue&type=template&id=85f28b6e&scoped=true&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  var l0 = _vm.__map(_vm.goodsList, function(item, index) {\n    var $orig = _vm.__get_orig(item)\n\n    var m0 = _vm.formatAttr(item.attributeJson)\n    return {\n      $orig: $orig,\n      m0: m0\n    }\n  })\n\n  _vm.$mp.data = Object.assign(\n    {},\n    {\n      $root: {\n        l0: l0\n      }\n    }\n  )\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./confirmOrder.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./confirmOrder.vue?vue&type=script&lang=js&\"","<template>\r\n\t<view class=\"order\">\r\n\t\t<!-- 选择配送方式 -->\r\n\t\t<!-- <view class=\"mode\" @tap=\"selectMode\">\r\n\t\t\t\t<text class=\"text1\">配送方式</text>\r\n\t\t\t\t<text class=\"text2\">{{modes || \"请选择配送方式\"}}</text>\r\n\t\t\t\t<image src=\"/static/images/home/right.png\"></image>\r\n\t\t\t  </view> -->\r\n\t\t<!-- 收货地址 -->\r\n\t\t<view class=\"order_address\" v-if=\"tapIndex == 0\">\r\n\t\t\t<image src=\"/static/images/home/bottom.png\"></image>\r\n\t\t\t<view class=\"address_box\" @tap=\"setAddress\">\r\n\t\t\t\t<view class=\"weizhi_icon\"><text class=\"iconfont icon-dizhi\" :style=\"'color:' + colors\"></text></view>\r\n\t\t\t\t<block v-if=\"address.id\">\r\n\t\t\t\t\t<view class=\"center\">\r\n\t\t\t\t\t\t<view class=\"name\">\r\n\t\t\t\t\t\t\t<text class=\"text1\">{{ address.consignee }}</text>\r\n\t\t\t\t\t\t\t<text class=\"phones\">{{ address.phone }}</text>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view class=\"address_name\">{{ address.district }} {{ address.detailedAddress }}</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</block>\r\n\t\t\t\t<view class=\"noaddress\" v-else>请添加收货地址</view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t<!-- 商品详情 -->\r\n\t\t<view v-for=\"(item, index) in goodsList\" :key=\"index\" class=\"goods\">\r\n\t\t\t<view class=\"goods_data\">\r\n\t\t\t\t<image :src=\"item.image\" mode=\"aspectFill\"></image>\r\n\t\t\t\t<view class=\"goods_title\">\r\n\t\t\t\t\t<view class=\"g_name\">{{ item.name }} {{ item.subhead }}</view>\r\n\t\t\t\t\t<view class=\"goods_sku\">\r\n\t\t\t\t\t\t规格:\r\n\t\t\t\t\t\t<text style=\"margin-right: 10upx;\">{{ formatAttr(item.attributeJson) }}</text>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"price\">\r\n\t\t\t\t\t\t<view class=\"t1\" :style=\"'color:' + colors\">￥{{ item.activityPrice || item.salePrice }}</view>\r\n\t\t\t\t\t\t<view class=\"t2\">\r\n\t\t\t\t\t\t\t<text>￥{{ item.marketPrice }}</text>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view class=\"t3\">x{{ item.quantity }}</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t\t<!-- <view class=\"morelist\" style=\"border-bottom:none\">\r\n\t\t\t  <view class=\"title\">\r\n\t\t\t\t<text class=\"quan\" :style=\"'background:' + colors\">券</text>\r\n\t\t\t\t <text>优惠券</text>\r\n\t\t\t  </view>\r\n\t\t\t  <view class=\"right_title\" :style=\"'color:' + colors + ';font-size:24upx'\" @tap=\"openCoupon(index)\">\r\n\t\t\t\t{{item.couponName || '请选择优惠券'}}\r\n\t\t\t  </view>\r\n\t\t\t</view> -->\r\n\t\t</view>\r\n\t\t<!-- 订单详情 -->\r\n\t\t<view class=\"order_more\">\r\n\t\t\t<view class=\"morelist\">\r\n\t\t\t\t<text class=\"title\">商品总价</text>\r\n\t\t\t\t<view class=\"right_title\">￥{{ sumprice }}</view>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"morelist\">\r\n\t\t\t\t<view class=\"title\">\r\n\t\t\t\t\t<text class=\"quan\" :style=\"'background:' + colors\">运</text>\r\n\t\t\t\t\t<text>运费</text>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"right_title\">￥0.00</view>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"morelist\">\r\n\t\t\t\t<text class=\"title\">实付款</text>\r\n\t\t\t\t<view class=\"right_title\" :style=\"'color:' + colors + ';'\">￥{{ sumprice }}</view>\r\n\t\t\t</view>\r\n\t\t\t<!-- <view class=\"tips\">\r\n\t\t\t\t<view class=\"tips_name\">备注信息</view>\r\n\t\t\t\t<view class=\"textarea_box\"><textarea placeholder=\"请输入备注信息\" placeholder-class=\"font-size: 24upx\" maxlength=\"-1\" v-if=\"couponshow == false\"></textarea></view>\r\n\t\t\t</view> -->\r\n\t\t</view>\r\n\t\t<view class=\"bottom_btn\">\r\n\t\t\t<view class=\"moneys\">\r\n\t\t\t\t合计:\r\n\t\t\t\t<text :style=\"'color:' + colors + ';'\">￥{{ sumprice }}</text>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"btns\" :style=\"'background:' + colors + ';'\" @tap=\"submit\">提交订单</view>\r\n\t\t</view>\r\n\t\t<!-- 优惠券弹出层 -->\r\n\t\t<view class=\"mask\" catchtouchmove=\"preventTouchMove\" v-if=\"couponshow == true\" @tap=\"hidecoupon\"></view>\r\n\t\t<view class=\"coupon\" :style=\"'bottom:' + (couponshow == true ? '0upx' : '')\">\r\n\t\t\t<view class=\"buyong\" @click=\"notUsed()\">不使用优惠券</view>\r\n\t\t\t<scroll-view class=\"scrolls\" scroll-y><coupon :couponList=\"couponList\" @onReceive=\"onReceive\"></coupon></scroll-view>\r\n\t\t</view>\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\nvar app = getApp();\r\nimport coupon from '../../commponent/public/coupon';\r\nimport { getGoodsData, removeAddress } from '@/utils/auth.js';\r\nexport default {\r\n\tdata() {\r\n\t\treturn {\r\n\t\t\tcolors: '',\r\n\t\t\tcouponshow: false,\r\n\t\t\tmodes: '',\r\n\t\t\ttapIndex: 0,\r\n\t\t\tgoodsList: getGoodsData(),\r\n\t\t\tcouponIndex: 0,\r\n\t\t\tnowprice: 0, //临时存储总金额的变量 用于计算优惠券\r\n\t\t\tsumprice: 0,\r\n\t\t\taddress: {},\r\n\t\t\taddressId: undefined,\r\n\t\t\tcouponList: [\r\n\t\t\t\t//优惠券列表\r\n\t\t\t\t{\r\n\t\t\t\t\tmoney: 30,\r\n\t\t\t\t\treduce: 5,\r\n\t\t\t\t\tdate: '2020-02-09 2020-10-02',\r\n\t\t\t\t\tid: 1,\r\n\t\t\t\t\tstatus: 0,\r\n\t\t\t\t\tcondition: ['新人专享', '仅在支付时使用', '可与其他产品共享']\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\tmoney: 30,\r\n\t\t\t\t\treduce: 5,\r\n\t\t\t\t\tdate: '2020-02-09 2020-10-02',\r\n\t\t\t\t\tid: 2,\r\n\t\t\t\t\tstatus: 0,\r\n\t\t\t\t\tcondition: ['新人专享']\r\n\t\t\t\t}\r\n\t\t\t]\r\n\t\t};\r\n\t},\r\n\r\n\tcomponents: {\r\n\t\tcoupon\r\n\t},\r\n\tprops: {},\r\n\r\n\t/**\r\n\t * 生命周期函数--监听页面加载\r\n\t */\r\n\tonLoad: function(options) {\r\n\t\tremoveAddress(); //清空存储的地址\r\n\t\t// 计算所有的商品总价\r\n\t\tthis.getSumPrice();\r\n\t\tthis.setData({\r\n\t\t\tcolors: app.globalData.newColor\r\n\t\t});\r\n\t},\r\n\r\n\t/**\r\n\t * 生命周期函数--监听页面初次渲染完成\r\n\t */\r\n\tonReady: function() {},\r\n\r\n\t/**\r\n\t * 生命周期函数--监听页面显示\r\n\t */\r\n\tonShow: function() {\r\n\t\t//获取默认选择的地址\r\n\t\tthis.getAddress();\r\n\t},\r\n\r\n\t/**\r\n\t * 生命周期函数--监听页面隐藏\r\n\t */\r\n\tonHide: function() {},\r\n\r\n\t/**\r\n\t * 生命周期函数--监听页面卸载\r\n\t */\r\n\tonUnload: function() {},\r\n\r\n\t/**\r\n\t * 页面相关事件处理函数--监听用户下拉动作\r\n\t */\r\n\tonPullDownRefresh: function() {},\r\n\r\n\t/**\r\n\t * 页面上拉触底事件的处理函数\r\n\t */\r\n\tonReachBottom: function() {},\r\n\r\n\t/**\r\n\t * 用户点击右上角分享\r\n\t */\r\n\tonShareAppMessage: function() {},\r\n\tmethods: {\r\n\t\t// 获取默认地址\r\n\t\tgetAddress() {\r\n\t\t\tconst pages = getCurrentPages();\r\n\t\t\tconst currPage = pages[pages.length - 1]; //当前页面\r\n\t\t\tconsole.log(currPage);\r\n\t\t\t// #ifdef MP\r\n\t\t\tlet addressId = currPage.data.addressId;\r\n\t\t\t// #endif\r\n\t\t\t// #ifdef H5\r\n\t\t\tlet addressId = currPage._data.addressId;\r\n\t\t\t// #endif\r\n\t\t\tconst param = {};\r\n\t\t\tif (addressId) {\r\n\t\t\t\tObject.assign(param, { id: addressId });\r\n\t\t\t}\r\n\t\t\tuni\r\n\t\t\t\t.$ajax('/api/address/info', param)\r\n\t\t\t\t.then(res => {\r\n\t\t\t\t\tthis.addressId = addressId || res.id;\r\n\t\t\t\t\tthis.address = res;\r\n\t\t\t\t})\r\n\t\t\t\t.catch(err => {\r\n\t\t\t\t\treturn uni.showToast({\r\n\t\t\t\t\t\ttitle: err,\r\n\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t});\r\n\t\t\t\t});\r\n\t\t},\r\n\t\t// 计算价格\r\n\t\tgetSumPrice() {\r\n\t\t\tlet sumprice = 0;\r\n\t\t\tthis.goodsList.forEach(e => {\r\n\t\t\t\tconst price = e.activityPrice || e.salePrice;\r\n\t\t\t\tsumprice = sumprice + (price * 100 * e.quantity) / 100;\r\n\t\t\t});\r\n\t\t\tthis.sumprice = sumprice.toFixed(2);\r\n\t\t\tthis.nowprice = sumprice.toFixed(2);\r\n\t\t},\r\n\t\topenCoupon(index) {\r\n\t\t\tthis.setData({\r\n\t\t\t\tcouponshow: true,\r\n\t\t\t\tcouponIndex: index\r\n\t\t\t});\r\n\t\t},\r\n\r\n\t\thidecoupon() {\r\n\t\t\tthis.setData({\r\n\t\t\t\tcouponshow: false\r\n\t\t\t});\r\n\t\t},\r\n\r\n\t\tasync submit() {\r\n\t\t\tif (!this.addressId) {\r\n\t\t\t\treturn uni.showToast({\r\n\t\t\t\t\ttitle: '请选择您的收货地址',\r\n\t\t\t\t\ticon: 'none'\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t\tconst products = this.goodsList.map(item => {\r\n\t\t\t\tconst obj = {\r\n\t\t\t\t\tproductId: item.productId,\r\n\t\t\t\t\tproductSkuId: item.productSkuId,\r\n\t\t\t\t\tquantity: item.quantity\r\n\t\t\t\t};\r\n\t\t\t\tif (item.id) {\r\n\t\t\t\t\tObject.assign(obj, { id: item.id });\r\n\t\t\t\t}\r\n\t\t\t\treturn obj;\r\n\t\t\t});\r\n\t\t\tuni\r\n\t\t\t\t.$ajax(\r\n\t\t\t\t\t'/api/order/create',\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\taddressId: this.addressId,\r\n\t\t\t\t\t\tproducts: products\r\n\t\t\t\t\t},\r\n\t\t\t\t\t'post'\r\n\t\t\t\t)\r\n\t\t\t\t.then(result => {\r\n\t\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\t\turl: '/pages/views/order/success'\r\n\t\t\t\t\t});\r\n\t\t\t\t})\r\n\t\t\t\t.catch(err => {\r\n\t\t\t\t\treturn uni.showToast({\r\n\t\t\t\t\t\ttitle: err,\r\n\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t});\r\n\t\t\t\t});\r\n\t\t},\r\n\r\n\t\tselectMode() {\r\n\t\t\tlet that = this;\r\n\t\t\tlet list = ['物流寄送', '到店自提'];\r\n\t\t\tuni.showActionSheet({\r\n\t\t\t\titemList: list,\r\n\t\t\t\tsuccess: function(res) {\r\n\t\t\t\t\tthat.setData({\r\n\t\t\t\t\t\tmodes: list[res.tapIndex],\r\n\t\t\t\t\t\ttapIndex: res.tapIndex\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t},\r\n\r\n\t\tsetAddress() {\r\n\t\t\tuni.navigateTo({\r\n\t\t\t\turl: '/pages/views/user/myaddress?type=' + 'select'\r\n\t\t\t});\r\n\t\t},\r\n\t\tonReceive(item, index) {\r\n\t\t\t//选择优惠券\r\n\t\t\tthis.couponshow = false;\r\n\t\t\t/**\r\n\t\t\t * 自定义变量 到goodsList中 用户计算合计金额与优惠券\r\n\t\t\t */\r\n\t\t\tthis.goodsList[this.couponIndex].couponName = '满' + item.money + '减' + item.reduce;\r\n\t\t\tthis.goodsList[this.couponIndex].couponReduce = item.reduce; //优惠券金额\r\n\t\t\tthis.sumprice = this.sumprice - item.reduce;\r\n\t\t},\r\n\t\tnotUsed() {\r\n\t\t\t//不使用优惠券 重置金额\r\n\t\t\tthis.couponshow = false;\r\n\t\t\tthis.goodsList[this.couponIndex].couponName = '';\r\n\t\t\tthis.sumprice = this.sumprice + Number(this.goodsList[this.couponIndex].couponReduce);\r\n\t\t},\r\n\t\t// 格式化属性\r\n\t\tformatAttr(attrs) {\r\n\t\t\treturn JSON.parse(attrs)\r\n\t\t\t\t.map(i => {\r\n\t\t\t\t\treturn i.val;\r\n\t\t\t\t})\r\n\t\t\t\t.join(' | ');\r\n\t\t}\r\n\t}\r\n};\r\n</script>\r\n<style lang=\"scss\" scoped>\r\npage {\r\n\tbackground-color: #ffffff;\r\n}\r\n\r\n.order {\r\n\tpadding: 20upx 4%;\r\n}\r\n.mode {\r\n\theight: 80upx;\r\n\tline-height: 80upx;\r\n\tdisplay: flex;\r\n\tjustify-content: space-between;\r\n\tbackground-color: #fff;\r\n\tpadding: 0 20upx;\r\n\tborder-radius: 10upx;\r\n\talign-items: center;\r\n\tmargin-bottom: 20upx;\r\n\tbox-shadow: 0upx 0upx 10upx #ddd;\r\n}\r\n.mode:active {\r\n\tbackground-color: #f5f5f5;\r\n}\r\n.mode .text1 {\r\n\tcolor: #999;\r\n\tfont-size: 24upx;\r\n}\r\n.mode .text2 {\r\n\tfont-size: 24upx;\r\n\tcolor: #333;\r\n\tdisplay: block;\r\n\twidth: 50%;\r\n\tfont-weight: bold;\r\n}\r\n.mode image {\r\n\twidth: 40upx;\r\n\theight: 40upx;\r\n\tdisplay: block;\r\n}\r\n.order_address {\r\n\theight: 150upx;\r\n\twidth: 100%;\r\n\tbackground-color: #fff;\r\n\tborder-radius: 10upx;\r\n\toverflow: hidden;\r\n\tposition: relative;\r\n\tbox-shadow: 0upx 0upx 10upx #ddd;\r\n}\r\n\r\n.order_address image {\r\n\twidth: 100%;\r\n\theight: 100%;\r\n\tdisplay: block;\r\n\tposition: absolute;\r\n\ttop: 0;\r\n\tleft: 0;\r\n\tz-index: 10;\r\n}\r\n\r\n.address_box {\r\n\twidth: 100%;\r\n\theight: 100%;\r\n\tdisplay: block;\r\n\tposition: absolute;\r\n\ttop: 0;\r\n\tleft: 0;\r\n\tz-index: 10;\r\n\tbox-sizing: border-box;\r\n\tpadding: 20upx;\r\n\tdisplay: flex;\r\n\talign-items: center;\r\n}\r\n\r\n.weizhi_icon text {\r\n\tfont-size: 40upx;\r\n\tmargin-left: 10upx;\r\n}\r\n\r\n.address_box .center {\r\n\tmargin-left: 20upx;\r\n}\r\n\r\n.address_box .center .name {\r\n\theight: 60upx;\r\n\tline-height: 60upx;\r\n}\r\n\r\n.address_box .center .name .text1 {\r\n\tfont-size: 26upx;\r\n\tfont-weight: bold;\r\n\tcolor: #333;\r\n\tdisplay: inline-block;\r\n\tmargin-right: 20upx;\r\n}\r\n\r\n.phones {\r\n\tfont-size: 24upx;\r\n\tcolor: #999;\r\n\tz-index: 0;\r\n}\r\n\r\n.address_box .address_name {\r\n\tfont-size: 26upx;\r\n\tfont-weight: bold;\r\n\tcolor: #333;\r\n}\r\n\r\n.noaddress {\r\n\tmargin-left: 40upx;\r\n\tfont-weight: bold;\r\n\tcolor: #333;\r\n\tfont-size: 26upx;\r\n}\r\n\r\n.goods {\r\n\tbackground-color: #fff;\r\n\tmargin-top: 20upx;\r\n\tbox-shadow: 0upx 0upx 10upx #ddd;\r\n\tborder-radius: 10upx;\r\n\tpadding: 20upx;\r\n\tpadding-bottom: 10upx;\r\n}\r\n\r\n.goods_data {\r\n\twidth: 100%;\r\n\tdisplay: flex;\r\n\tmargin-bottom: 15upx;\r\n}\r\n\r\n.goods_data image {\r\n\tmin-width: 150upx;\r\n\tmax-width: 150upx;\r\n\theight: 150upx;\r\n\tdisplay: block;\r\n\tborder-radius: 10upx;\r\n}\r\n\r\n.goods_title {\r\n\tmargin-left: 20upx;\r\n\tline-height: 40upx;\r\n\twidth: 100%;\r\n}\r\n.goods_title .price {\r\n\twidth: 100%;\r\n\tdisplay: flex;\r\n\theight: 40upx;\r\n\tline-height: 40upx;\r\n\tmargin-top: 20upx;\r\n\tposition: relative;\r\n}\r\n.goods_title .price .t1 {\r\n\tfont-size: 30upx;\r\n\tfont-weight: bold;\r\n\tdisplay: block;\r\n}\r\n.goods_title .price .t2 {\r\n\tfont-size: 24upx;\r\n\tmargin-left: 15upx;\r\n\tdisplay: block;\r\n\tcolor: #999;\r\n\ttext-decoration: line-through;\r\n}\r\n.goods_title .price .t3 {\r\n\tfloat: right;\r\n\tfont-weight: bold;\r\n\tfont-size: 28upx;\r\n\tcolor: #999;\r\n\tposition: absolute;\r\n\tright: 0upx;\r\n\ttop: 0;\r\n}\r\n.goods_title .g_name {\r\n\tfont-size: 26upx;\r\n\tfont-weight: bold;\r\n\tmax-height: 80upx;\r\n\toverflow: hidden;\r\n\tdisplay: -webkit-box;\r\n\t-webkit-line-clamp: 2;\r\n\t-webkit-box-orient: vertical;\r\n}\r\n.goods_title .goods_sku {\r\n\tcolor: #999;\r\n\t/* margin-top: 20upx; */\r\n}\r\n.numbers {\r\n\t/* text-align: right; */\r\n}\r\n.shop {\r\n\tmargin-top: 20upx;\r\n\tfont-size: 24upx;\r\n\tcolor: #333;\r\n\tdisplay: flex;\r\n\talign-content: center;\r\n}\r\n.shop .iconfont {\r\n\tmargin-right: 20upx;\r\n}\r\n.order_more {\r\n\tpadding: 0 2%;\r\n\tmargin-top: 20upx;\r\n}\r\n.morelist {\r\n\theight: 80upx;\r\n\tline-height: 80upx;\r\n\tdisplay: flex;\r\n\tjustify-content: space-between;\r\n\tborder-bottom: 1upx dashed #eee;\r\n}\r\n.morelist .title {\r\n\tcolor: #333;\r\n\tfont-size: 26upx;\r\n\tfont-weight: bold;\r\n\tdisplay: flex;\r\n\talign-items: center;\r\n}\r\n.morelist .title .quan {\r\n\tfont-size: 20upx;\r\n\twidth: 35upx;\r\n\theight: 35upx;\r\n\tline-height: 36upx;\r\n\ttext-align: center;\r\n\tborder-radius: 8upx;\r\n\tmargin-right: 10upx;\r\n\talign-items: center;\r\n\tcolor: #fff;\r\n}\r\n.morelist .right_title {\r\n\tcolor: #999;\r\n}\r\n.tips {\r\n\tpadding: 10upx 0;\r\n\tmargin-bottom: 120upx;\r\n}\r\n.tips .tips_name {\r\n\tfont-size: 26upx;\r\n\tfont-weight: bold;\r\n\tline-height: 60upx;\r\n}\r\n.textarea_box {\r\n\tmin-height: 100upx;\r\n\twidth: 100%;\r\n\tborder: 1upx solid #eee;\r\n\tborder-radius: 10upx;\r\n\tpadding: 20upx;\r\n}\r\n.textarea_box textarea {\r\n\tfont-size: 24upx;\r\n\theight: 150upx;\r\n}\r\n.bottom_btn {\r\n\theight: 100upx;\r\n\twidth: 100vw;\r\n\tbackground-color: #fff;\r\n\tposition: fixed;\r\n\tleft: 0;\r\n\tbottom: 0;\r\n\tline-height: 100upx;\r\n\tdisplay: flex;\r\n\tjustify-content: flex-end;\r\n\tpadding: 0 30upx;\r\n\tz-index: 100;\r\n\tfont-weight: bold;\r\n}\r\n.bottom_btn .moneys {\r\n\tfont-size: 28upx;\r\n\tfont-weight: bold;\r\n\tmargin-right: 100upx;\r\n}\r\n.bottom_btn .btns {\r\n\tfont-size: 28upx;\r\n\tcolor: #fff;\r\n\theight: 60upx;\r\n\tline-height: 60upx;\r\n\tpadding: 0 25upx;\r\n\ttext-align: center;\r\n\tborder-radius: 40upx;\r\n\tmargin-top: 20upx;\r\n\tfont-weight: bold;\r\n}\r\n/* 优惠券 */\r\n.coupon {\r\n\tbackground-color: #fff;\r\n\tborder-radius: 10upx 10upx 0 0;\r\n\tposition: fixed;\r\n\tleft: 0;\r\n\tbottom: -1000upx;\r\n\tz-index: 150;\r\n\ttransition: all 0.3s;\r\n}\r\n.coupon .buyong {\r\n\tline-height: 80upx;\r\n\tpadding: 0 4%;\r\n\ttext-align: right;\r\n\tcolor: #999;\r\n}\r\n.mask {\r\n\twidth: 100%;\r\n\theight: 100%;\r\n\tposition: fixed;\r\n\ttop: 0;\r\n\tleft: 0;\r\n\tbackground: #000;\r\n\tz-index: 10;\r\n\topacity: 0.7;\r\n}\r\n.scrolls {\r\n\twidth: 100vw;\r\n\theight: 55vh;\r\n\tz-index: 500;\r\n}\r\n</style>\n","import mod from \"-!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./confirmOrder.vue?vue&type=style&index=0&id=85f28b6e&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./confirmOrder.vue?vue&type=style&index=0&id=85f28b6e&lang=scss&scoped=true&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1606059674702\n      var cssReload = require(\"/Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}