(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-login-login"],{"0164":function(t,e,n){var i=n("5948");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var o=n("4f06").default;o("79469765",i,!0,{sourceMap:!1,shadowMode:!1})},"05dc":function(t,e,n){"use strict";var i=n("a3a7"),o=n.n(i);o.a},"1c5c":function(t,e,n){"use strict";n.r(e);var i=n("dced"),o=n.n(i);for(var a in i)"default"!==a&&function(t){n.d(e,t,(function(){return i[t]}))}(a);e["default"]=o.a},2505:function(t,e,n){"use strict";n.r(e);var i=n("76e8"),o=n.n(i);for(var a in i)"default"!==a&&function(t){n.d(e,t,(function(){return i[t]}))}(a);e["default"]=o.a},"4ba2":function(t,e,n){var i=n("24fb");e=i(!1),e.push([t.i,".status_bar[data-v-5528f474]{width:100vw;overflow:hidden;display:block}.toBar[data-v-5528f474]{width:100vw;position:relative;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center}.left_icon[data-v-5528f474]{font-size:%?32?%;position:absolute;left:%?20?%;font-weight:500;width:%?50?%;height:%?50?%;line-height:%?50?%}.toBar .title[data-v-5528f474]{text-align:center;color:#fff;font-size:%?30?%;display:block;margin:0 auto}.left_img[data-v-5528f474]{width:%?50?%;height:%?50?%;position:absolute;padding:%?10?%;left:%?20?%;top:50%;-webkit-transform:translateY(-50%);transform:translateY(-50%);z-index:100;background-color:rgba(0,0,0,.4);-webkit-border-radius:50%;border-radius:50%}.bolds[data-v-5528f474]{font-weight:700}",""]),t.exports=e},5405:function(t,e,n){"use strict";var i=n("0164"),o=n.n(i);o.a},5948:function(t,e,n){var i=n("24fb");e=i(!1),e.push([t.i,".login[data-v-2e75bcc1]{height:100%;width:100%;position:fixed;top:0;left:0;-webkit-transition:all .6s ease-in-out;transition:all .6s ease-in-out;background-color:#333}.logo uni-image[data-v-2e75bcc1]{height:%?160?%;width:%?160?%;display:block;-webkit-border-radius:50%;border-radius:50%;margin:0 auto;margin-top:%?150?%}.login_from[data-v-2e75bcc1]{width:80vw;margin:0 auto;margin-top:10vh}.login_from .codes[data-v-2e75bcc1]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-align-content:center;align-content:center;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between}.login_from uni-input[data-v-2e75bcc1]{height:%?80?%;line-height:%?80?%;margin-bottom:%?60?%;border:1px solid #ddd;-webkit-box-sizing:border-box;box-sizing:border-box;padding:0 %?30?%;-webkit-border-radius:%?10?%;border-radius:%?10?%;font-size:%?24?%;color:#333}.codes uni-input[data-v-2e75bcc1]{width:70%}.codes uni-view[data-v-2e75bcc1]{height:%?80?%;line-height:%?80?%;width:%?150?%;margin-bottom:%?60?%;color:#fff;background-color:#fa436a;text-align:center;font-size:%?24?%;-webkit-border-radius:%?10?%;border-radius:%?10?%}.login_btn[data-v-2e75bcc1]{width:100%;height:%?80?%;margin:0 auto;background-color:#fa436a;margin-top:40px;text-align:center;line-height:%?80?%;-webkit-border-radius:%?40?%;border-radius:%?40?%;color:#fff}.login_btn[data-v-2e75bcc1]:active{opacity:.9}.wx-login[data-v-2e75bcc1]{height:%?200?%;width:100%;display:block;margin:0 auto;margin-top:%?120?%;-webkit-border-radius:50%;border-radius:50%}.wx-login .login-text[data-v-2e75bcc1]{text-align:center;color:#ccc;font-size:%?24?%;margin-bottom:%?20?%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center}.wx-login .login-text uni-view[data-v-2e75bcc1]{width:%?160?%;height:1px;background-color:#ccc;margin:0 %?10?%}.wx-login uni-image[data-v-2e75bcc1]{height:%?100?%;width:%?100?%;display:block;z-index:10;margin:0 auto}.wx-login uni-button[data-v-2e75bcc1]{width:%?100?%!important;height:%?100?%;position:absolute;-webkit-border-radius:50%;border-radius:50%;text-align:center;top:50%;left:50%;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%);opacity:0;z-index:10;padding:0!important}.explain[data-v-2e75bcc1]{width:100%;display:-webkit-box;display:-webkit-flex;display:flex;font-size:%?24?%;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;align-items:center;color:#999;position:absolute;bottom:%?60?%}",""]),t.exports=e},"76bd":function(t,e,n){"use strict";var i;n.d(e,"b",(function(){return o})),n.d(e,"c",(function(){return a})),n.d(e,"a",(function(){return i}));var o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-uni-view",{staticClass:"nav_abr"},[n("v-uni-view",{staticClass:"status_bar",style:"height: "+t.statusBarHeight}),n("v-uni-view",{staticClass:"toBar",style:"height:"+t.toBarHeight},[1==t.showLeft?[1==t.leftBg?n("v-uni-image",{staticClass:"left_img",attrs:{src:"/static/images/home/lefts.png"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.toback.apply(void 0,arguments)}}}):t._e(),0==t.leftBg?n("v-uni-text",{staticClass:"iconfont icon-fanhui left_icon",staticStyle:{color:"#202020"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.toback.apply(void 0,arguments)}}}):t._e()]:t._e(),1==t.showTitle?n("v-uni-text",{staticClass:"title bolds",style:"color:"+t.textcolor},[t._v(t._s(t.navTitle))]):t._e()],2)],1)},a=[]},"76e8":function(t,e,n){"use strict";var i=n("4ea4");n("caad"),n("2532"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,n("96cf");var o=i(n("1da1")),a=n("cced"),r=i(n("ac49")),c=getApp(),s={data:function(){return{colors:"",isCanUse:uni.getStorageSync("isCanUse"),nickName:"",avatarUrl:"",bgImg:[],imgTime:"",imgIndex:0,codeName:"获取验证码",isCode:!0,tel:"",smscode:void 0,isChecked:!1}},props:{},components:{navBar:r.default},onLoad:function(t){this.setData({colors:c.globalData.newColor})},onReady:function(){},onShow:function(){this.setbImg()},onHide:function(){clearInterval(this.imgTime)},onUnload:function(){clearInterval(this.imgTime)},onPullDownRefresh:function(){},onReachBottom:function(){},onShareAppMessage:function(){},methods:{getUserInfo:function(){console.log("点了");var t=this;uni.getUserInfo({provider:"weixin",success:function(e){console.log(e),t.setData({nickName:e.userInfo.nickName,avatarUrl:e.userInfo.avatarUrl});var n=(new Date).getTime();(0,a.setToken)(n),(0,a.setUserInfo)(e.userInfo);try{uni.setStorageSync("isCanUse",1),uni.switchTab({url:"/pages/views/tabBar/home"})}catch(i){console.log("缓存失败")}},fail:function(t){}})},setbImg:function(){clearInterval(this.imgTime);var t=this;console.log("执行了");var e=setInterval((function(){var e=t.imgIndex+1;e>=t.bgImg.length&&(e=0),t.setData({imgIndex:e})}),15e3);this.setData({imgTime:e})},onlogin:function(){var t=this;return(0,o.default)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.isChecked){e.next=2;break}return e.abrupt("return",uni.showToast({title:"请勾选用户相关协议",icon:"none"}));case 2:if(t.tel&&t.smscode){e.next=4;break}return e.abrupt("return",uni.showToast({title:"手机号或验证码不能为空",icon:"none"}));case 4:uni.showLoading({title:"登录中..."}),uni.$ajax("/api/login/phone-login",{phone:t.tel,code:t.smscode},"post").then((function(t){(0,a.setToken)(t.token);var e={avatarUrl:t.avatar||"https://ss0.bdstatic.com/70cFvHSh_Q1YnxGkpoWK1HF6hhy/it/u=1635355620,1019286978&fm=26&gp=0.jpg",nickName:t.nickname||"木木"};(0,a.setUserInfo)(e),uni.hideLoading(),uni.showToast({title:"登陆成功"}),setTimeout((function(){uni.navigateBack()}),300)})).catch((function(t){return uni.showToast({title:t,icon:"none"})}));case 6:case"end":return e.stop()}}),e)})))()},getCode:function(){if(0!=this.isCode)if(""!=this.tel){if(!/^1(3|4|5|6|7|8|9)\d{9}$/.test(this.tel))return uni.showToast({title:"请填写正确手机号码",icon:"none"}),!1;this.isCode=!1,this.getPhoneCode()}else uni.showToast({title:"请输入手机号",icon:"none"})},getPhoneCode:function(){var t=this;return(0,o.default)(regeneratorRuntime.mark((function e(){var n,i,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:n="",i=60,o=t,uni.$ajax("/api/common/send-sms",{phone:t.tel},"post").then((function(){uni.showToast({title:"验证码发送成功~",icon:"none"}),clearInterval(n),n=setInterval((function(){i>=1?(i--,o.codeName=i+"秒重试"):(o.isCode=!0,o.codeName="验证码",clearInterval(n))}),1e3)})).catch((function(t){return uni.showToast({title:t,icon:"none"})}));case 4:case"end":return e.stop()}}),e)})))()},wxlogin:function(){uni.login({provider:"weixin",success:function(t){console.log("这是用户的code",t)}})},onAuthorize:function(){uni.showToast({title:"对接你的公众号登录方法",icon:"none"})},checkboxChange:function(t){t.detail.value.includes("true")?this.isChecked=!0:this.isChecked=!1}}};e.default=s},a02a:function(t,e,n){"use strict";n.r(e);var i=n("c0bb"),o=n("2505");for(var a in o)"default"!==a&&function(t){n.d(e,t,(function(){return o[t]}))}(a);n("5405");var r,c=n("f0c5"),s=Object(c["a"])(o["default"],i["b"],i["c"],!1,null,"2e75bcc1",null,!1,i["a"],r);e["default"]=s.exports},a3a7:function(t,e,n){var i=n("4ba2");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var o=n("4f06").default;o("96ee600c",i,!0,{sourceMap:!1,shadowMode:!1})},ac49:function(t,e,n){"use strict";n.r(e);var i=n("76bd"),o=n("1c5c");for(var a in o)"default"!==a&&function(t){n.d(e,t,(function(){return o[t]}))}(a);n("05dc");var r,c=n("f0c5"),s=Object(c["a"])(o["default"],i["b"],i["c"],!1,null,"5528f474",null,!1,i["a"],r);e["default"]=s.exports},c0bb:function(t,e,n){"use strict";var i;n.d(e,"b",(function(){return o})),n.d(e,"c",(function(){return a})),n.d(e,"a",(function(){return i}));var o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-uni-view",{staticClass:"login",style:"background: url("+t.bgImg[t.imgIndex]+"); background-size: cover;background-repeat:no-repeat; background-position: center;"},[n("navBar",{attrs:{showLeft:!0,leftBg:!1,showTitle:!1}}),n("v-uni-view",{staticClass:"logo"}),n("v-uni-view",{staticClass:"login_from"},[n("v-uni-input",{attrs:{placeholder:"请输入手机号",type:"number",maxlength:"11","placeholder-style":"color: #515151"},model:{value:t.tel,callback:function(e){t.tel=e},expression:"tel"}}),n("v-uni-view",{staticClass:"codes"},[n("v-uni-input",{attrs:{placeholder:"请输入短信验证码",maxlength:"6",type:"number","placeholder-style":"color: #515151"},model:{value:t.smscode,callback:function(e){t.smscode=e},expression:"smscode"}}),n("v-uni-view",{style:{opacity:1==t.isCode?"1":"0.7"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.getCode.apply(void 0,arguments)}}},[t._v(t._s(t.codeName))])],1),n("v-uni-view",{staticClass:"login_btn",style:"background:"+t.colors,on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.onlogin.apply(void 0,arguments)}}},[t._v("登录")])],1),n("v-uni-view",{staticClass:"wx-login"},[n("v-uni-view",{staticClass:"login-text"},[n("v-uni-view"),t._v("快速登录"),n("v-uni-view")],1),n("v-uni-image",{attrs:{src:"/static/images/wx.png"}}),n("v-uni-button",{attrs:{"open-type":"getUserInfo"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.onAuthorize.apply(void 0,arguments)}}})],1),n("v-uni-view",{staticClass:"explain"},[n("v-uni-checkbox-group",{on:{change:function(e){arguments[0]=e=t.$handleEvent(e),t.checkboxChange.apply(void 0,arguments)}}},[n("v-uni-checkbox",{staticStyle:{transform:"scale(0.6)"},attrs:{value:"true",color:t.colors}})],1),t._v("请认真阅读并同意"),n("v-uni-view",{},[t._v("《用户服务协议》")]),n("v-uni-view",{},[t._v("《隐私权政策》")])],1)],1)},a=[]},dced:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=getApp(),o={data:function(){return{statusBarHeight:i.globalData.statusHeight+"px",toBarHeight:i.globalData.toBar+"px"}},components:{},props:{textcolor:{type:String,default:"#fff"},showTitle:{type:Boolean,default:!0},showLeft:{type:Boolean,default:!1},navTitle:{type:String,default:"登录"},leftBg:{type:Boolean,default:!0}},methods:{toback:function(){uni.navigateBack({delta:1})}}};e.default=o}}]);