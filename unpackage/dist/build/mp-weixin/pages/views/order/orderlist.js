(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/views/order/orderlist"],{"0ae4":function(t,n,e){"use strict";var o=e("7f7d"),i=e.n(o);i.a},"471d":function(t,n,e){"use strict";(function(t){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var o=getApp(),i=function(){e.e("pages/commponent/public/tabs").then(function(){return resolve(e("80aa"))}.bind(null,e)).catch(e.oe)},r=function(){e.e("pages/commponent/public/loading").then(function(){return resolve(e("ef74"))}.bind(null,e)).catch(e.oe)},a=function(){e.e("pages/commponent/public/navBar").then(function(){return resolve(e("ac49"))}.bind(null,e)).catch(e.oe)},s={data:function(){return{statusBarHeight:o.globalData.statusHeight+"px",toBarHeight:o.globalData.toBar+"px",tabList:[{name:"全部",id:0},{name:"待付款",id:1},{name:"待收货",id:2},{name:"已完成",id:3},{name:"已取消",id:4}],active:0,orderList:[],isShow:!0,colors:"",page:1,pageSize:10}},components:{tabs:i,loading:r,navBar:a},props:{},onLoad:function(t){var n=this;this.setData({active:Number(t.tabIndex)}),this.setData({colors:o.globalData.newColor}),setTimeout((function(){n.setData({isShow:!1})}),600)},onReady:function(){},onShow:function(){this.orderList=[],this.page=1,this.getOrderList(this.active)},onHide:function(){},onUnload:function(){},onPullDownRefresh:function(){console.log("=========")},onReachBottom:function(){console.log("-------")},onShareAppMessage:function(){},methods:{setTabs:function(t,n){this.orderList=[],this.setData({active:t.id}),this.getOrderList(n)},getOrderList:function(n){var e=this;t.$ajax("/api/order/list",{status:n,page:this.page,pageSize:this.pageSize}).then((function(t){console.log(t),e.orderList=e.orderList.concat(t.items)})).catch((function(n){return t.showToast({title:n,icon:"none"})}))},jumpDetails:function(n){t.navigateTo({url:"/pages/views/order/orderdetails?orderId="+n.id})},jumpAfterSale:function(){t.navigateTo({url:"/pages/views/order/afterSaleList"})},cancelOrder:function(n,e){var o=this;t.showModal({title:"确认要取消该订单吗?",confirmColor:this.colors,success:function(i){i.confirm&&t.$ajax("/api/order/cancel",{id:n.id}).then((function(t){o.orderList.splice(e,1)})).catch((function(n){return t.showToast({title:n,icon:"none"})}))}})},delOrder:function(n,e){var o=this;t.showModal({title:"确认要删除该订单吗?",confirmColor:this.colors,success:function(i){i.confirm&&t.$ajax("/api/order/del",{id:n.id}).then((function(t){o.orderList.splice(e,1)})).catch((function(n){return t.showToast({title:n,icon:"none"})}))}})},confirmOrder:function(n,e){var o=this;t.showModal({title:"请确认已签收次订单?",confirmColor:this.colors,success:function(i){i.confirm&&t.$ajax("/api/order/confirm",{id:n.id}).then((function(t){o.orderList.splice(e,1)})).catch((function(n){return t.showToast({title:n,icon:"none"})}))}})},onRefund:function(n){t.navigateTo({url:"/pages/views/order/cancelorder?orderId="+n.id})},ongetMoreList:function(){console.log("触发事件")},formatAttr:function(t){return JSON.parse(t).map((function(t){return t.val})).join(" | ")},formOrderTabName:function(t){var n="";return 40==t.status&&(n="已取消"),10==t.status&&10==t.payStatus&&(n="待付款"),10!=t.status&&20!=t.status||20!=t.payStatus||10!=t.deliverStatus&&20!=t.deliverStatus||(n="待收货"),50==t.status&&20==t.payStatus&&40==t.deliverStatus&&(n="已完成"),n}}};n.default=s}).call(this,e("543d")["default"])},5371:function(t,n,e){"use strict";var o;e.d(n,"b",(function(){return i})),e.d(n,"c",(function(){return r})),e.d(n,"a",(function(){return o}));var i=function(){var t=this,n=t.$createElement,e=(t._self._c,t.__map(t.orderList,(function(n,e){var o=t.__get_orig(n),i=t.formOrderTabName(n),r=t.__map(n.orderProduct,(function(n,e){var o=t.__get_orig(n),i=t.formatAttr(n.attributeJson);return{$orig:o,m1:i}}));return{$orig:o,m0:i,l0:r}})));t.$mp.data=Object.assign({},{$root:{l1:e}})},r=[]},"7f7d":function(t,n,e){},9095:function(t,n,e){"use strict";(function(t){e("fffe");o(e("66fd"));var n=o(e("b3f8"));function o(t){return t&&t.__esModule?t:{default:t}}t(n.default)}).call(this,e("543d")["createPage"])},aefe:function(t,n,e){"use strict";e.r(n);var o=e("471d"),i=e.n(o);for(var r in o)"default"!==r&&function(t){e.d(n,t,(function(){return o[t]}))}(r);n["default"]=i.a},b3f8:function(t,n,e){"use strict";e.r(n);var o=e("5371"),i=e("aefe");for(var r in i)"default"!==r&&function(t){e.d(n,t,(function(){return i[t]}))}(r);e("0ae4");var a,s=e("f0c5"),c=Object(s["a"])(i["default"],o["b"],o["c"],!1,null,"078b4046",null,!1,o["a"],a);n["default"]=c.exports}},[["9095","common/runtime","common/vendor"]]]);