(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/views/tabBar/category"],{"2bed":function(t,e,n){"use strict";n.r(e);var o=n("452b"),a=n.n(o);for(var c in o)"default"!==c&&function(t){n.d(e,t,(function(){return o[t]}))}(c);e["default"]=a.a},"452b":function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=c(n("a34a")),a=n("cced");function c(t){return t&&t.__esModule?t:{default:t}}function i(t,e,n,o,a,c,i){try{var r=t[c](i),s=r.value}catch(u){return void n(u)}r.done?e(s):Promise.resolve(s).then(o,a)}function r(t){return function(){var e=this,n=arguments;return new Promise((function(o,a){var c=t.apply(e,n);function r(t){i(c,o,a,r,s,"next",t)}function s(t){i(c,o,a,r,s,"throw",t)}r(void 0)}))}}var s=getApp(),u=function(){n.e("pages/commponent/public/search").then(function(){return resolve(n("5ae7"))}.bind(null,n)).catch(n.oe)},f=function(){n.e("pages/commponent/cate/twostage").then(function(){return resolve(n("f5c7"))}.bind(null,n)).catch(n.oe)},l=function(){n.e("pages/commponent/cate/threestage").then(function(){return resolve(n("bfcf"))}.bind(null,n)).catch(n.oe)},p={data:function(){return{classLevel:!0,colors:"",current:"",scrollTop:"",categoryList:[],classData:[{name:"奥利奥",img:"//img30.360buyimg.com/popshop/jfs/t11845/334/820275483/7333/9f90acff/59f8a38eN8d63b2bc.png"},{name:"三只松鼠",img:"//img20.360buyimg.com/popshop/jfs/t4702/64/3954700922/7363/12853e7c/5907f2ddN0a96cf54.jpg"},{name:"良品铺子",img:"//img30.360buyimg.com/popshop/jfs/t3472/26/559250389/5485/27928c27/580da7e0Nb2583823.jpg"},{name:"达利园",img:"//img20.360buyimg.com/popshop/jfs/t2884/157/722435011/5877/a029e06c/57233313Nbb5585a4.jpg"},{name:"稻香村",img:"//img30.360buyimg.com/popshop/jfs/t4684/82/3914974292/6978/65085974/5907f2c5N4fbef2f6.jpg"},{name:"百草味",img:"//img20.360buyimg.com/popshop/jfs/t2887/304/855683637/4953/8cf426e2/572966eeN007d6ad3.jpg"},{name:"盼盼",img:"//img30.360buyimg.com/popshop/jfs/t2632/87/866057601/8941/50435bf/57296832Nbc33fdaf.jpg"},{name:"徐福记",img:"//img20.360buyimg.com/popshop/jfs/t27217/50/2596273954/4783/c9a93e75/5c05e719Nd0cb6633.jpg"}],dataList:[],currentTwo:0,currentThere:0,page:1,pageSize:10}},components:{search:u,twostage:f,threestage:l},props:{},onLoad:function(t){this.getCategory()},onReady:function(){},onShow:function(){(0,a.getToken)()&&this.setTabBarBadge(),this.setData({colors:s.globalData.newColor})},onHide:function(){},onUnload:function(){},onPullDownRefresh:function(){},onReachBottom:function(){},onShareAppMessage:function(){},methods:{getCategory:function(){var e=this;return r(o.default.mark((function n(){var a;return o.default.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,t.$ajax("/api/category/list").catch((function(e){t.showToast({title:e,icon:"none"})}));case 2:a=n.sent,e.categoryList=a,e.getProducts(a[0].id);case 5:case"end":return n.stop()}}),n)})))()},getProducts:function(e){var n=this;return r(o.default.mark((function a(){var c;return o.default.wrap((function(o){while(1)switch(o.prev=o.next){case 0:return o.next=2,t.$ajax("/api/product/list",{page:n.page,pageSize:n.pageSize,categoryId:e}).catch((function(e){t.showToast({title:e,icon:"none"})}));case 2:c=o.sent,console.log(c.list),n.dataList=n.dataList.concat(c.list);case 5:case"end":return o.stop()}}),a)})))()},setCurrent:function(t){var e=t.currentTarget.dataset.index,n=(t.currentTarget.dataset.item,20*e);e<=2&&(n=0),this.setData({current:e,scrollTop:n})},onswitch:function(){this.setData({classLevel:!this.classLevel})},setThere:function(t){console.log(t)},setTwo:function(t){console.log(t.id),this.dataList=[],this.page=1,this.getProducts(t.id)}}};e.default=p}).call(this,n("543d")["default"])},"61c7":function(t,e,n){"use strict";n.r(e);var o=n("c438"),a=n("2bed");for(var c in a)"default"!==c&&function(t){n.d(e,t,(function(){return a[t]}))}(c);n("d299");var i,r=n("f0c5"),s=Object(r["a"])(a["default"],o["b"],o["c"],!1,null,"56f823b8",null,!1,o["a"],i);e["default"]=s.exports},"6e60":function(t,e,n){},c438:function(t,e,n){"use strict";var o;n.d(e,"b",(function(){return a})),n.d(e,"c",(function(){return c})),n.d(e,"a",(function(){return o}));var a=function(){var t=this,e=t.$createElement;t._self._c},c=[]},d299:function(t,e,n){"use strict";var o=n("6e60"),a=n.n(o);a.a},ee76:function(t,e,n){"use strict";(function(t){n("fffe");o(n("66fd"));var e=o(n("61c7"));function o(t){return t&&t.__esModule?t:{default:t}}t(e.default)}).call(this,n("543d")["createPage"])}},[["ee76","common/runtime","common/vendor"]]]);