<view class="cart data-v-5a879f3c"><block wx:if="{{cartList.length!==0}}"><block class="data-v-5a879f3c"><view data-event-opts="{{[['tap',[['clearInvalid',['$event']]]]]}}" class="clearCart data-v-5a879f3c" style="{{('color:'+colors)}}" bindtap="__e">清空失效商品</view><view class="cart_box data-v-5a879f3c"><block wx:for="{{$root.l0}}" wx:for-item="item" wx:for-index="index" wx:key="index"><view data-event-opts="{{[['longpress',[['onshowDel',['$0',index],[[['cartList','',index]]]]]],['touchend',[['ontouchend',['$event']]]]]}}" class="cart_list data-v-5a879f3c" catchlongpress="__e" bindtouchend="__e"><view data-event-opts="{{[['tap',[['setCurrent',['$0',index],[[['cartList','',index]]]]]]]}}" class="checkbox-box data-v-5a879f3c" bindtap="__e"><block wx:if="{{!item.$orig.failure}}"><view class="checkbox data-v-5a879f3c" style="{{('border-color:'+colors)}}"><view class="{{['data-v-5a879f3c',item.$orig.current==true?'on':'']}}" style="{{('background-color:'+colors)}}"></view></view></block><block wx:else><view class="checkbox data-v-5a879f3c" style="border-color:#ccc;"><view class="data-v-5a879f3c"></view></view></block></view><view data-event-opts="{{[['tap',[['jumpDetails',['$0',index],[[['cartList','',index]]]]]]]}}" class="cover data-v-5a879f3c" bindtap="__e"><image src="{{item.$orig.image}}" mode="aspectFill" class="data-v-5a879f3c"></image><text class="masks data-v-5a879f3c"></text><block wx:if="{{item.$orig.failure}}"><text class="mask data-v-5a879f3c">已失效</text></block></view><view class="right data-v-5a879f3c"><view data-event-opts="{{[['tap',[['jumpDetails',['$0',index],[[['cartList','',index]]]]]]]}}" class="goods_name data-v-5a879f3c" bindtap="__e">{{''+item.$orig.name+" "+item.$orig.subhead+''}}</view><block wx:if="{{item.$orig.attributeJson!=='[]'}}"><view class="sku data-v-5a879f3c"><block class="data-v-5a879f3c"><text style="margin-left:10rpx;" class="data-v-5a879f3c">{{item.m0}}</text></block></view></block><view class="numbers data-v-5a879f3c"><text class="price data-v-5a879f3c">{{'￥'+item.g0+''}}</text><view class="right_btn data-v-5a879f3c"><view data-event-opts="{{[['tap',[['onsub',['$0',index],[[['cartList','',index]]]]]]]}}" class="sub data-v-5a879f3c" style="{{('color:'+(item.$orig.num==1?'#ccc':''))}}" bindtap="__e">-</view><view class="input data-v-5a879f3c"><input maxlength="2" disabled="{{true}}" value="{{item.$orig.quantity}}" class="data-v-5a879f3c"/></view><view data-event-opts="{{[['tap',[['onadd',['$0',index],[[['cartList','',index]]]]]]]}}" class="add data-v-5a879f3c" bindtap="__e">+</view></view></view></view><block wx:if="{{current==index}}"><view data-event-opts="{{[['tap',[['oncencal',['$event']]]]]}}" class="del_mask data-v-5a879f3c" style="{{('z-index:'+(current==index?'99':'-21'))}}" bindtap="__e"></view></block><view class="dask_del data-v-5a879f3c" style="{{('opacity:'+(current==index?'1':'0')+';z-index:'+(current==index?'100':'-20')+';left:'+(current==index?'0':'-100%'))}}"><text data-event-opts="{{[['tap',[['delItem',['$0',index],[[['cartList','',index]]]]]]]}}" class="del data-v-5a879f3c" bindtap="__e">删除</text><text data-event-opts="{{[['tap',[['oncencal',['$event']]]]]}}" class="cencal data-v-5a879f3c" bindtap="__e">取消</text></view></view></block><block wx:if="{{cartList.length>=5}}"><view class="daodi data-v-5a879f3c">—— 到底啦 ——</view></block></view><view class="bottom_all data-v-5a879f3c" style="{{'margin-bottom:'+(bottomShow)+';'}}"><view class="left data-v-5a879f3c"><view data-event-opts="{{[['tap',[['setAllCurrent',['$event']]]]]}}" class="checkbox-box data-v-5a879f3c" bindtap="__e"><view class="checkbox data-v-5a879f3c" style="{{('border-color:'+colors)}}"><view class="{{['data-v-5a879f3c',allCurrent==true?'on':'']}}" style="{{('background-color:'+colors)}}"></view></view><view class="text data-v-5a879f3c">全选</view></view><block wx:if="{{allCurrent==true}}"><view data-event-opts="{{[['tap',[['delectAll',['$event']]]]]}}" class="delAll data-v-5a879f3c" style="{{('border-color:'+colors+';color:'+colors)}}" bindtap="__e">删除</view></block></view><view class="rights data-v-5a879f3c"><view data-event-opts="{{[['tap',[['settlement',['$event']]]]]}}" class="jiesuan data-v-5a879f3c" style="{{('background-color:'+colors)}}" bindtap="__e">{{"结算("+sum+")"}}</view><view class="sum data-v-5a879f3c">合计：<text style="font-size:30rpx;" class="data-v-5a879f3c">{{"￥"+(sumPrice||0)}}</text></view></view></view></block></block><block wx:if="{{cartList.length==0&&isLogin}}"><view class="nocart data-v-5a879f3c"><text class="iconfont icon-gouwuche1 data-v-5a879f3c" style="{{('color:'+colors)}}"></text><view class="data-v-5a879f3c">空空如也,<text data-event-opts="{{[['tap',[['onStroll',['$event']]]]]}}" style="{{('color:'+colors)}}" bindtap="__e" class="data-v-5a879f3c">随便逛逛 ></text></view></view></block><block wx:if="{{!isLogin}}"><view class="nocart data-v-5a879f3c"><text class="iconfont icon-gouwuche1 data-v-5a879f3c" style="{{('color:'+colors)}}"></text><view class="title data-v-5a879f3c">先去登录嘛</view><view class="text data-v-5a879f3c">买些自己喜欢的东西，犒赏下优秀的自己吧</view><view data-event-opts="{{[['tap',[['goLogin']]]]}}" class="go-login data-v-5a879f3c" style="{{('background:'+colors)}}" bindtap="__e">去登陆</view></view></block></view>