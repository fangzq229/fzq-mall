(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/views/home/classList"],{5705:function(t,e,n){"use strict";(function(t){n("fffe");i(n("66fd"));var e=i(n("7b00"));function i(t){return t&&t.__esModule?t:{default:t}}t(e.default)}).call(this,n("543d")["createPage"])},"65b0":function(t,e,n){"use strict";(function(t){function i(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=getApp(),a=function(){n.e("pages/commponent/public/search").then(function(){return resolve(n("5ae7"))}.bind(null,n)).catch(n.oe)},s=function(){Promise.all([n.e("common/vendor"),n.e("pages/commponent/home/recommend")]).then(function(){return resolve(n("a7c3"))}.bind(null,n)).catch(n.oe)},c=function(){n.e("pages/commponent/public/loading").then(function(){return resolve(n("ef74"))}.bind(null,n)).catch(n.oe)},r={data:function(){return{statusBarHeight:o.globalData.statusHeight+"px",toBarHeight:o.globalData.toBar+"px",colors:"",classId:"",isShow:!0,current:0,isMaskShow:!1,modes:!1,onscreen:0,scrollLeft:0,tagCurrent:999,loading:!1,screenList:[{name:"综合",id:0},{name:"价格升序",id:1},{name:"价格降序",id:2}],screenName:"综合",popShow:!1,classList:[{name:"全部分类",id:1,child:[{name:"资源类",id:2},{name:"工具类",id:3}]},{name:"品牌",id:2,child:[{name:"苹果",id:1},{name:"华为",id:2},{name:"小米",id:2}]}],newdata:"",tagsList:["苹果","小米","华为","诺基亚","联想","vivo","oppo","魅族","中兴","美颜","锤子"],dataList:[],id:void 0,keyword:void 0,searchKeyword:void 0,page:1,pageSize:10}},components:{search:a,recommend:s,loading:c},props:{},onLoad:function(t){var e=this;this.setData({colors:o.globalData.newColor,id:t.id,keyword:t.search}),setTimeout((function(){e.setData({isShow:!1})}),600)},onReady:function(){},onShow:function(){this.dataList=[],this.page=1,this.id&&this.getRecommend(),this.keyword&&(this.searchKeyword=JSON.parse(JSON.stringify(this.keyword)),this.getProductList())},onHide:function(){},onUnload:function(){},onPullDownRefresh:function(){},onReachBottom:function(){},onShareAppMessage:function(){},methods:{getRecommend:function(){var e=this,n={id:this.id,page:this.page,pageSize:this.pageSize};this.searchKeyword&&Object.assign(n,{search:this.searchKeyword}),t.$ajax("/api/product/recommend-list",n).then((function(t){e.dataList=e.dataList.concat(t.list)})).catch((function(e){t.showToast({title:e,icon:"none"})}))},getProductList:function(){var e=this;t.$ajax("/api/product/list",{page:this.page,pageSize:this.pageSize,search:this.searchKeyword}).then((function(t){(0===t.list.length||t.list.length<e.pageSize)&&(e.loading=!1),e.dataList=e.dataList.concat(t.list)})).catch((function(e){t.showToast({title:e,icon:"none"})}))},goSearch:function(){if(console.log("搜索"),!this.searchKeyword)return t.showToast({title:"请输入搜索内容",icon:"none"});this.page=1,this.dataList=[],this.id&&this.getRecommend(),this.keyword&&this.getProductList()},setCurrent:function(t){console.log(t);var e=t.currentTarget.dataset.index;this.setData({current:e})},openScreen:function(t){var e=t.currentTarget.dataset.index;console.log(t),this.setData({current:e,isMaskShow:!this.isMaskShow})},closeScreen:function(){this.setData({isMaskShow:!1})},setList:function(){this.setData({modes:!this.modes})},setScreen:function(t,e){this.setData({onscreen:e,screenName:t.name,isMaskShow:!1})},openPop:function(){this.setData({popShow:!0})},hideright:function(){this.setData({popShow:!1})},setClass:function(t,e,n,o){e.current=1!=e.current,t.child[o]=e;var a=t,s="classList["+n+"]";this.setData(i({},s,a))},onreset:function(){var t=this.classList;t.forEach((function(t){t.child.forEach((function(t){t.current=!1}))})),this.setData({classList:t,popShow:!1})},onenter:function(){this.setData({popShow:!1});var t=[];this.classList.forEach((function(e){e.child.forEach((function(e){1==e.current&&t.push(e)}))})),console.log("选中的项",t)},backTo:function(){t.navigateBack(-1)},setTags:function(t,e){var n=this;this.tagCurrent=e,this.isShow=!0;var i=38*e;e<=2&&(i=0),this.scrollLeft=i,setTimeout((function(){n.isShow=!1}),500)}}};e.default=r}).call(this,n("543d")["default"])},7207:function(t,e,n){"use strict";var i;n.d(e,"b",(function(){return o})),n.d(e,"c",(function(){return a})),n.d(e,"a",(function(){return i}));var o=function(){var t=this,e=t.$createElement;t._self._c},a=[]},"7b00":function(t,e,n){"use strict";n.r(e);var i=n("7207"),o=n("9e3e");for(var a in o)"default"!==a&&function(t){n.d(e,t,(function(){return o[t]}))}(a);n("d3bc");var s,c=n("f0c5"),r=Object(c["a"])(o["default"],i["b"],i["c"],!1,null,"2bd95812",null,!1,i["a"],s);e["default"]=r.exports},"85c7":function(t,e,n){},"9e3e":function(t,e,n){"use strict";n.r(e);var i=n("65b0"),o=n.n(i);for(var a in i)"default"!==a&&function(t){n.d(e,t,(function(){return i[t]}))}(a);e["default"]=o.a},d3bc:function(t,e,n){"use strict";var i=n("85c7"),o=n.n(i);o.a}},[["5705","common/runtime","common/vendor"]]]);