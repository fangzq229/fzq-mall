(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/commponent/public/sku"],{"0abc":function(t,r,n){"use strict";var e=n("8167"),i=n.n(e);i.a},"22a0":function(t,r,n){"use strict";n.r(r);var e=n("5b0b"),i=n("9190");for(var u in i)"default"!==u&&function(t){n.d(r,t,(function(){return i[t]}))}(u);n("0abc");var o,a=n("f0c5"),c=Object(a["a"])(i["default"],e["b"],e["c"],!1,null,"27e971e4",null,!1,e["a"],o);r["default"]=c.exports},"5b0b":function(t,r,n){"use strict";var e;n.d(r,"b",(function(){return i})),n.d(r,"c",(function(){return u})),n.d(r,"a",(function(){return e}));var i=function(){var t=this,r=t.$createElement,n=(t._self._c,(Number(t.currentSku.activityPrice||t.currentSku.salePrice)*t.number).toFixed(2)),e=JSON.stringify(t.currentArr),i=JSON.stringify(t.currentArr),u=JSON.stringify(t.currentArr),o=t.nowList.skuArr&&0!==t.nowList.skuArr.length?t.__map(t.nowList.skuArr,(function(r,n){var e=t.__get_orig(r),i=JSON.stringify(r),u=JSON.stringify(r),o=JSON.stringify(r),a=t.formatAttr(r);return{$orig:e,g2:i,g4:u,g6:o,m0:a}})):null;t.$mp.data=Object.assign({},{$root:{g0:n,g1:e,g3:i,g5:u,l0:o}})},u=[]},8167:function(t,r,n){},9190:function(t,r,n){"use strict";n.r(r);var e=n("d2f0"),i=n.n(e);for(var u in e)"default"!==u&&function(t){n.d(r,t,(function(){return e[t]}))}(u);r["default"]=i.a},d2f0:function(t,r,n){"use strict";(function(t){Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var e=u(n("a34a")),i=n("cced");function u(t){return t&&t.__esModule?t:{default:t}}function o(t,r,n,e,i,u,o){try{var a=t[u](o),c=a.value}catch(s){return void n(s)}a.done?r(c):Promise.resolve(c).then(e,i)}function a(t){return function(){var r=this,n=arguments;return new Promise((function(e,i){var u=t.apply(r,n);function a(t){o(u,e,i,a,c,"next",t)}function c(t){o(u,e,i,a,c,"throw",t)}a(void 0)}))}}function c(t){return l(t)||d(t)||f(t)||s()}function s(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function f(t,r){if(t){if("string"===typeof t)return m(t,r);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?m(t,r):void 0}}function d(t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}function l(t){if(Array.isArray(t))return m(t)}function m(t,r){(null==r||r>t.length)&&(r=t.length);for(var n=0,e=new Array(r);n<r;n++)e[n]=t[n];return e}var b={data:function(){return{number:1,current:"",currentArr:{},currentSku:{},update:!0,nowList:{}}},components:{},props:{colors:{type:String},showModal:{type:Boolean,default:!1},skuList:{type:Object},bottoms:{type:String,default:""}},computed:{skuArr:function(){return this.nowList.skuArr}},watch:{skuList:function(t){this.currentArr=t.skuArr.length>0?c(t.skuArr[0]):[],this.nowList=t},currentArr:{deep:!0,handler:function(t,r){t.length>0?this.searchSku(t):this.currentSku=this.nowList.skus[0]}}},methods:{moveHandle:function(){},searchSku:function(t){this.currentSku=this.nowList.skus.find((function(r){return r.attributeJson===JSON.stringify(t)}))||{}},setTag:function(t){this.currentArr=t},formatAttr:function(t){return t.map((function(t){return t.val})).join(" | ")},onhide:function(){this.$emit("onhide")},onadd:function(){var t=this.number+1;this.setData({number:t})},onreduce:function(){if(!(this.number<=1)){var t=this.number-1;this.setData({number:t})}},onsubmit:function(r){var n=this;return a(e.default.mark((function u(){var o;return e.default.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if((0,i.getToken)()){e.next=3;break}return t.navigateTo({url:"/pages/login/login"}),e.abrupt("return");case 3:if(n.currentSku.id){e.next=7;break}t.showToast({title:"请选择规格",icon:"none"}),e.next=18;break;case 7:if("add"!=r){e.next=15;break}return e.next=10,t.$ajax("/api/cart/add",{productId:n.nowList.id,productSkuId:n.currentSku.id,quantity:n.number,type:1},"post").catch((function(r){return t.showToast({title:r,icon:"none"})}));case 10:o=e.sent,t.showToast({title:"加入购物车成功 !",icon:"none"}),t.setTabBarBadge({index:2,text:String(o.count)}),e.next=17;break;case 15:(0,i.setGoodsData)([{activityPrice:n.currentSku.activityPrice,activityType:n.currentSku.activityType,attributeJson:n.currentSku.attributeJson,describe:n.nowList.name,image:n.currentSku.skuSmallImg||n.nowList.smallImg,marketPrice:n.currentSku.marketPrice,name:n.nowList.name,productId:n.nowList.id,productSkuId:n.currentSku.id,quantity:n.number,salePrice:n.currentSku.salePrice,subhead:n.nowList.subhead,virtualSales:n.currentSku.virtualSales}]),t.navigateTo({url:"/pages/views/order/confirmOrder"});case 17:setTimeout((function(){n.$emit("onhide")}),300);case 18:case"end":return e.stop()}}),u)})))()}}};r.default=b}).call(this,n("543d")["default"])}}]);
;(global["webpackJsonp"] = global["webpackJsonp"] || []).push([
    'pages/commponent/public/sku-create-component',
    {
        'pages/commponent/public/sku-create-component':(function(module, exports, __webpack_require__){
            __webpack_require__('543d')['createComponent'](__webpack_require__("22a0"))
        })
    },
    [['pages/commponent/public/sku-create-component']]
]);
