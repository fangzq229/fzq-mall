(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/commponent/goods/poster"],{"2bba":function(t,e,n){"use strict";n.r(e);var o=n("fdc7"),i=n.n(o);for(var r in o)"default"!==r&&function(t){n.d(e,t,(function(){return o[t]}))}(r);e["default"]=i.a},"7a61":function(t,e,n){},"84d2":function(t,e,n){"use strict";n.r(e);var o=n("aed8"),i=n("2bba");for(var r in i)"default"!==r&&function(t){n.d(e,t,(function(){return i[t]}))}(r);n("fcae");var s,a=n("f0c5"),c=Object(a["a"])(i["default"],o["b"],o["c"],!1,null,"dcdcb678",null,!1,o["a"],s);e["default"]=c.exports},aed8:function(t,e,n){"use strict";var o;n.d(e,"b",(function(){return i})),n.d(e,"c",(function(){return r})),n.d(e,"a",(function(){return o}));var i=function(){var t=this,e=t.$createElement;t._self._c},r=[]},fcae:function(t,e,n){"use strict";var o=n("7a61"),i=n.n(o);i.a},fdc7:function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=n("cced"),i=getApp(),r=function(){n.e("pages/commponent/public/loading").then(function(){return resolve(n("ef74"))}.bind(null,n)).catch(n.oe)},s=function(){Promise.all([n.e("common/vendor"),n.e("components/lime-painter/index")]).then(function(){return resolve(n("1721"))}.bind(null,n)).catch(n.oe)},a={data:function(){return{windowWidth:"",windowHeight:"",colors:"",imgUrl:"",userInfo:{}}},components:{loading:r,lpainter:s},props:{posterData:{type:Object}},created:function(){var t=this;this.userInfo=(0,o.getUserInfo)(),this.getSystem(),this.setData({colors:i.globalData.newColor}),this.$nextTick((function(){t.createImg()}))},onReachBottom:function(){},onShareAppMessage:function(){},methods:{getSystem:function(){var e=this;t.getSystemInfo({success:function(t){console.log(t),e.setData({windowHeight:t.windowHeight,windowWidth:t.windowWidth})}})},createImg:function(){var t=this.$refs.painter;t.render({width:"680rpx",height:"1050rpx",background:"#FFFFFF",borderRadius:"10rpx",views:[{type:"image",src:this.userInfo.avatarUrl,css:{left:"40rpx",top:"20rpx",width:"120rpx",height:"120rpx"}},{type:"text",text:this.userInfo.nickName,css:{left:"160rpx",top:"50rpx",fontSize:"36rpx",color:"#535353",lineHeight:"36rpx"}},{type:"text",text:"精品好物，值得推荐，爱你呦",css:{left:"160rpx",top:"100rpx",fontSize:"32rpx",color:"#787779",lineHeight:"36rpx"}},{type:"image",src:this.posterData.smallImg,css:{left:"50rpx",top:"180rpx",width:"580rpx",height:"580rpx",borderRadius:"6rpx"}},{type:"text",text:this.posterData.name+" "+this.posterData.subhead,css:{maxLines:2,width:"390rpx",color:"#535353",left:"30rpx",top:"820rpx",fontSize:"36rpx",lineHeight:"50rpx"}},{type:"image",src:"../../../static/images/ewm.png",css:{left:"440rpx",top:"800rpx",width:"178rpx",height:"178rpx",borderRadius:"6rpx"}}]}),this.canvasToTempFilePath()},canvasToTempFilePath:function(){var t=this,e=this.$refs.painter;e.canvasToTempFilePath().then((function(e){return t.imgUrl=e.tempFilePath}))},saveImg:function(){t.showLoading({title:"保存中..."});var e=this;t.getSetting({success:function(n){t.hideLoading(),console.log(n),n.authSetting["scope.writePhotosAlbum"]?setTimeout((function(){t.saveImageToPhotosAlbum({filePath:e.imgUrl,success:function(e){t.hideLoading(),t.showToast({title:"保存成功",icon:"success"})},fail:function(e){console.log(e),t.showToast({title:"保存失败",icon:"none"})}})}),1e3):wx.authorize({scope:"scope.writePhotosAlbum",success:function(t){console.log(t)}})}})}}};e.default=a}).call(this,n("543d")["default"])}}]);
;(global["webpackJsonp"] = global["webpackJsonp"] || []).push([
    'pages/commponent/goods/poster-create-component',
    {
        'pages/commponent/goods/poster-create-component':(function(module, exports, __webpack_require__){
            __webpack_require__('543d')['createComponent'](__webpack_require__("84d2"))
        })
    },
    [['pages/commponent/goods/poster-create-component']]
]);
